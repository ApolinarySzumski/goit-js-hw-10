{"mappings":"AAGA,MACMA,EAAcC,SAASC,cAAc,iBACrCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAuBrC,SAASI,IACPF,EAAOG,UAAUC,OAAO,iB,CAG1B,SAASC,EAAUC,GACjBL,EAAME,UAAUC,OAAO,Q,CCnClB,IAAqBG,EAAKC,GAALD,EDGT,sCCFV,IAAIE,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAc,IAAIC,gBAAgBL,GACxCM,MAAM,GAAGP,KAAOK,KACbG,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBP,EAAO,cAAcK,EAASG,SAER,IAGzBJ,MAAKK,IACJV,EAAQU,EAAK,IAEdC,OAAMf,IACLK,EAAOL,EAAI,GACX,KDuBLS,MAAKK,IA9BR,IAAuBE,IA+BLF,EA9BhBxB,EAAY2B,mBACV,YACAC,OAAOC,OAAOH,GAAKI,KACjBC,GAAS,kBAAkBA,EAAMC,OAAOD,EAAME,kBA2B7B,IAEpBR,OAAMf,IACLD,GAAc,IAGlBT,EAAYkC,iBAAiB,UAAUC,IC1BhC,IAAyBC,ED2B9BD,EAAME,iBACNlC,EAAQmC,UAAY,GACpBhC,KC7B8B8B,ED8BdD,EAAMI,OAAOR,MC7BtB,IAAIlB,SAAQ,CAACC,EAASC,KAC3BG,MACE,wDAAwDkB,mFAEvDjB,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBP,EAAO,cAAcK,EAASG,SAER,IAGzBJ,MAAKK,IACJV,EAAQU,EAAK,IAEdC,OAAMf,IACLK,EAAOL,EAAI,GACX,KDcHS,MAAKK,IAjCV,IAAqBE,IAkCHF,EAjChBrB,EAAQwB,mBACN,YACAC,OAAOC,OAAOH,GACXI,KACCC,GACE,aAAaA,EAAMpB,YAAYoB,EAAMS,OAAO,GAAGP,qBAAqBF,EAAMS,OAAO,GAAGC,2BAA2BV,EAAMS,OAAO,GAAGE,oBAElIC,KAAK,IA0BW,IAElBlB,OAAMf,IACLD,GAAc,GAEN","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst POSTS_PATH = 'https://api.thecatapi.com/v1/breeds';\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nfunction createOptions(obj) {\n  breedSelect.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj).map(\n      value => `<option value=\"${value.id}\">${value.name}</option>`\n    )\n  );\n}\n\nfunction fillCatInfo(obj) {\n  catInfo.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj)\n      .map(\n        value =>\n          `<img src=\"${value.url}\"><h2>${value.breeds[0].name}</h2><article>${value.breeds[0].description}</article><p>${value.breeds[0].temperament}</p>`\n      )\n      .join('')\n  );\n}\n\nfunction toggleLoader() {\n  loader.classList.toggle('loader-visible');\n}\n\nfunction showError(err) {\n  error.classList.toggle('error');\n}\n\nfetchBreeds(POSTS_PATH)\n  .then(data => {\n    createOptions(data);\n  })\n  .catch(err => {\n    showError(err);\n  });\n\nbreedSelect.addEventListener('change', event => {\n  event.preventDefault();\n  catInfo.innerHTML = '';\n  toggleLoader();\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      fillCatInfo(data);\n    })\n    .catch(err => {\n      showError(err);\n    });\n  toggleLoader;\n});\n","export function fetchBreeds(url, query) {\n  return new Promise((resolve, reject) => {\n    const querystring = new URLSearchParams(query);\n    fetch(`${url}?${querystring}`)\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_rZzH8aTSb8EgvoUpMxGnwE4BaOpFs1yxswJogZfxRC4o5Mo0oZR6Pv4xvrcRihcn`\n    )\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$toggleLoader","classList","toggle","$1f0dc3b9307be026$var$showError","err","url","query","Promise","resolve","reject","querystring","URLSearchParams","fetch","then","response","ok","json","status","data","catch","obj","insertAdjacentHTML","Object","values","map","value","id","name","addEventListener","event","breedId","preventDefault","innerHTML","target","breeds","description","temperament","join"],"version":3,"file":"index.0f09b363.js.map"}