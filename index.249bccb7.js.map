{"mappings":"AAGA,MACMA,EAAcC,SAASC,cAAc,iBACrCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAiCrC,SAASI,EAAUC,GACjBF,EAAMG,UAAUC,OAAO,Q,CCzClB,IAAqBC,EAAKC,GAALD,EDGT,sCCFV,IAAIE,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAc,IAAIC,gBAAgBL,GACxCM,MAAM,GAAGP,KAAOK,KACbG,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBP,EAAO,cAAcK,EAASG,SAER,IAGzBJ,MAAKK,IACJV,EAAQU,EAAK,IAEdC,OAAMjB,IACLO,EAAOP,EAAI,GACX,KD6BLW,MAAKK,IApCR,IAAuBE,IAqCLF,EApChBvB,EAAY0B,mBACV,YACAC,OAAOC,OAAOH,GAAKI,KACjBC,GAAS,kBAAkBA,EAAMC,OAAOD,EAAME,kBAiC7B,IAEpBR,OAAMjB,IACLD,GAAc,IAGlBN,EAAYiC,iBAAiB,UAAUC,IChChC,IAAyBC,EDiC9BD,EAAME,iBACNjC,EAAQkC,UAAY,GAvBpBjC,EAAOI,UAAU8B,IAAI,kBACrBlC,EAAOI,UAAU+B,OAAO,WCZMJ,EDoCdD,EAAMM,OAAOV,MCnCtB,IAAIlB,SAAQ,CAACC,EAASC,KAC3BG,MACE,wDAAwDkB,mFAEvDjB,MAAKC,IACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBP,EAAO,cAAcK,EAASG,SAER,IAGzBJ,MAAKK,IACJV,EAAQU,EAAK,IAEdC,OAAMjB,IACLO,EAAOP,EAAI,GACX,KDoBHW,MAAKK,IAvCV,IAAqBE,IAwCHF,EAvChBpB,EAAQuB,mBACN,YACAC,OAAOC,OAAOH,GACXI,KACCC,GACE,aAAaA,EAAMpB,YAAYoB,EAAMW,OAAO,GAAGT,qBAAqBF,EAAMW,OAAO,GAAGC,2BAA2BZ,EAAMW,OAAO,GAAGE,oBAElIC,KAAK,IAgCW,IAElBpB,OAAMjB,IACLD,GAAc,IAzBlBF,EAAOI,UAAU8B,IAAI,UACrBlC,EAAOI,UAAU+B,OAAO,iBA0BZ","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst POSTS_PATH = 'https://api.thecatapi.com/v1/breeds';\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nfunction createOptions(obj) {\n  breedSelect.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj).map(\n      value => `<option value=\"${value.id}\">${value.name}</option>`\n    )\n  );\n}\n\nfunction fillCatInfo(obj) {\n  catInfo.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj)\n      .map(\n        value =>\n          `<img src=\"${value.url}\"><h2>${value.breeds[0].name}</h2><article>${value.breeds[0].description}</article><p>${value.breeds[0].temperament}</p>`\n      )\n      .join('')\n  );\n}\n\nfunction showLoader() {\n  loader.classList.add('loader-visible');\n  loader.classList.remove('loader');\n}\n\nfunction hideLoader() {\n  loader.classList.add('loader');\n  loader.classList.remove('loader-visible');\n}\n\nfunction showError(err) {\n  error.classList.toggle('error');\n}\n\nfetchBreeds(POSTS_PATH)\n  .then(data => {\n    createOptions(data);\n  })\n  .catch(err => {\n    showError(err);\n  });\n\nbreedSelect.addEventListener('change', event => {\n  event.preventDefault();\n  catInfo.innerHTML = '';\n  showLoader();\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      fillCatInfo(data);\n    })\n    .catch(err => {\n      showError(err);\n    });\n  hideLoader();\n});\n","export function fetchBreeds(url, query) {\n  return new Promise((resolve, reject) => {\n    const querystring = new URLSearchParams(query);\n    fetch(`${url}?${querystring}`)\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_rZzH8aTSb8EgvoUpMxGnwE4BaOpFs1yxswJogZfxRC4o5Mo0oZR6Pv4xvrcRihcn`\n    )\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","$1f0dc3b9307be026$var$showError","err","classList","toggle","url","query","Promise","resolve","reject","querystring","URLSearchParams","fetch","then","response","ok","json","status","data","catch","obj","insertAdjacentHTML","Object","values","map","value","id","name","addEventListener","event","breedId","preventDefault","innerHTML","add","remove","target","breeds","description","temperament","join"],"version":3,"file":"index.249bccb7.js.map"}