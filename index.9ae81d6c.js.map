{"mappings":"YAIA,ICJ4BA,EAAKC,EDK3BC,EAAcC,SAASC,cAAc,iBACrCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAuBrC,SAASI,IACPF,EAAOG,UAAUC,OAAO,iB,CAG1B,SAASC,EAAUC,GACjBL,EAAME,UAAUC,OAAO,Q,ECpCGV,EDIT,sCCHV,IAAIa,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAc,IAAIC,gBAAgBhB,GACxCiB,MAAM,GAAUC,OAAPnB,EAAI,KAAemB,OAAZH,IACbI,MAAK,SAAAC,GACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBR,EAAO,cAA8BI,OAAhBE,EAASG,Q,IAKjCJ,MAAK,SAAAK,GACJX,EAAQW,E,IAETC,OAAM,SAAAd,GACLG,EAAOH,E,QDyBZQ,MAAK,SAAAK,GA9BR,IAAuBE,IA+BLF,EA9BhBvB,EAAY0B,mBACV,YACAC,OAAOC,OAAOH,GAAKI,KACjB,SAAAC,G,MAAS,kBAA+Bb,OAAba,EAAMC,GAAG,MAAed,OAAXa,EAAME,KAAK,Y,QA6BtDR,OAAM,SAAAd,GACLD,G,IAGJT,EAAYiC,iBAAiB,UAAU,SAAAC,GC3BhC,IAAyBC,ED4B9BD,EAAME,iBACNjC,EAAQkC,UAAY,GACpB/B,KC9B8B6B,ED+BdD,EAAMI,OAAOR,MC9BtB,IAAInB,SAAQ,SAACC,EAASC,GAC3BG,MACE,wDAAgEC,OAARkB,EAAQ,mFAE/DjB,MAAK,SAAAC,GACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBR,EAAO,cAA8BI,OAAhBE,EAASG,Q,IAKjCJ,MAAK,SAAAK,GACJX,EAAQW,E,IAETC,OAAM,SAAAd,GACLG,EAAOH,E,QDgBVQ,MAAK,SAAAK,GAjCV,IAAqBE,IAkCHF,EAjChBpB,EAAQuB,mBACN,YACAC,OAAOC,OAAOH,GACXI,KACC,SAAAC,G,MACE,aAA+Bb,OAAlBa,EAAMhC,IAAI,UAA6CmB,OAArCa,EAAMS,OAAO,GAAGP,KAAK,kBAA2Df,OAA3Ca,EAAMS,OAAO,GAAGC,YAAY,iBAA2CvB,OAA5Ba,EAAMS,OAAO,GAAGE,YAAY,O,IAE9IC,KAAK,KA2BNpC,G,IAEDkB,OAAM,SAAAd,GACLD,G","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["\nimport { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst POSTS_PATH = 'https://api.thecatapi.com/v1/breeds';\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nfunction createOptions(obj) {\n  breedSelect.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj).map(\n      value => `<option value=\"${value.id}\">${value.name}</option>`\n    )\n  );\n}\n\nfunction fillCatInfo(obj) {\n  catInfo.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj)\n      .map(\n        value =>\n          `<img src=\"${value.url}\"><h2>${value.breeds[0].name}</h2><article>${value.breeds[0].description}</article><p>${value.breeds[0].temperament}</p>`\n      )\n      .join('')\n  );\n}\n\nfunction toggleLoader() {\n  loader.classList.toggle('loader-visible');\n}\n\nfunction showError(err) {\n  error.classList.toggle('error');\n}\n\nfetchBreeds(POSTS_PATH)\n  .then(data => {\n    createOptions(data);\n  })\n  .catch(err => {\n    showError(err);\n  });\n\nbreedSelect.addEventListener('change', event => {\n  event.preventDefault();\n  catInfo.innerHTML = '';\n  toggleLoader();\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      fillCatInfo(data);\n      toggleLoader();\n    })\n    .catch(err => {\n      showError(err);\n    });\n});\n","export function fetchBreeds(url, query) {\n  return new Promise((resolve, reject) => {\n    const querystring = new URLSearchParams(query);\n    fetch(`${url}?${querystring}`)\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_rZzH8aTSb8EgvoUpMxGnwE4BaOpFs1yxswJogZfxRC4o5Mo0oZR6Pv4xvrcRihcn`\n    )\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n"],"names":["url","query","$b8f9b7833fa37166$var$breedSelect","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$error","$b8f9b7833fa37166$var$toggleLoader","classList","toggle","$b8f9b7833fa37166$var$showError","err","Promise","resolve","reject","querystring","URLSearchParams","fetch","concat","then","response","ok","json","status","data","catch","obj","insertAdjacentHTML","Object","values","map","value","id","name","addEventListener","event","breedId","preventDefault","innerHTML","target","breeds","description","temperament","join"],"version":3,"file":"index.9ae81d6c.js.map"}