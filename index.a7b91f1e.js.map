{"mappings":"YAGA,ICH4BA,EAAKC,EDI3BC,EAAcC,SAASC,cAAc,iBACrCC,EAAUF,SAASC,cAAc,aACjCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAiCrC,SAASI,EAAUC,GACjBF,EAAMG,UAAUC,OAAO,Q,ECzCGX,EDGT,sCCFV,IAAIY,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAc,IAAIC,gBAAgBf,GACxCgB,MAAM,GAAUC,OAAPlB,EAAI,KAAekB,OAAZH,IACbI,MAAK,SAAAC,GACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBR,EAAO,cAA8BI,OAAhBE,EAASG,Q,IAKjCJ,MAAK,SAAAK,GACJX,EAAQW,E,IAETC,OAAM,SAAAhB,GACLK,EAAOL,E,QD8BZU,MAAK,SAAAK,GApCR,IAAuBE,IAqCLF,EApChBtB,EAAYyB,mBACV,YACAC,OAAOC,OAAOH,GAAKI,KACjB,SAAAC,G,MAAS,kBAA+Bb,OAAba,EAAMC,GAAG,MAAed,OAAXa,EAAME,KAAK,Y,QAmCtDR,OAAM,SAAAhB,GACLD,G,IAGJN,EAAYgC,iBAAiB,UAAU,SAAAC,GChChC,IAAyBC,EDiC9BD,EAAME,iBACNhC,EAAQiC,UAAY,GAvBpBhC,EAAOI,UAAU6B,IAAI,kBACrBjC,EAAOI,UAAU8B,OAAO,WCZMJ,EDoCdD,EAAMM,OAAOV,MCnCtB,IAAInB,SAAQ,SAACC,EAASC,GAC3BG,MACE,wDAAgEC,OAARkB,EAAQ,mFAE/DjB,MAAK,SAAAC,GACJ,GAAKA,EAASC,GAGZ,OAAOD,EAASE,OAFhBR,EAAO,cAA8BI,OAAhBE,EAASG,Q,IAKjCJ,MAAK,SAAAK,GACJX,EAAQW,E,IAETC,OAAM,SAAAhB,GACLK,EAAOL,E,QDqBVU,MAAK,SAAAK,GAvCV,IAAqBE,IAwCHF,EAvChBnB,EAAQsB,mBACN,YACAC,OAAOC,OAAOH,GACXI,KACC,SAAAC,G,MACE,aAA+Bb,OAAlBa,EAAM/B,IAAI,UAA6CkB,OAArCa,EAAMW,OAAO,GAAGT,KAAK,kBAA2Df,OAA3Ca,EAAMW,OAAO,GAAGC,YAAY,iBAA2CzB,OAA5Ba,EAAMW,OAAO,GAAGE,YAAY,O,IAE9IC,KAAK,I,IAkCPpB,OAAM,SAAAhB,GACLD,G,IAzBJF,EAAOI,UAAU6B,IAAI,UACrBjC,EAAOI,UAAU8B,OAAO,iB","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import { fetchBreeds } from './cat-api';\nimport { fetchCatByBreed } from './cat-api';\n\nconst POSTS_PATH = 'https://api.thecatapi.com/v1/breeds';\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nfunction createOptions(obj) {\n  breedSelect.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj).map(\n      value => `<option value=\"${value.id}\">${value.name}</option>`\n    )\n  );\n}\n\nfunction fillCatInfo(obj) {\n  catInfo.insertAdjacentHTML(\n    'beforeend',\n    Object.values(obj)\n      .map(\n        value =>\n          `<img src=\"${value.url}\"><h2>${value.breeds[0].name}</h2><article>${value.breeds[0].description}</article><p>${value.breeds[0].temperament}</p>`\n      )\n      .join('')\n  );\n}\n\nfunction showLoader() {\n  loader.classList.add('loader-visible');\n  loader.classList.remove('loader');\n}\n\nfunction hideLoader() {\n  loader.classList.add('loader');\n  loader.classList.remove('loader-visible');\n}\n\nfunction showError(err) {\n  error.classList.toggle('error');\n}\n\nfetchBreeds(POSTS_PATH)\n  .then(data => {\n    createOptions(data);\n  })\n  .catch(err => {\n    showError(err);\n  });\n\nbreedSelect.addEventListener('change', event => {\n  event.preventDefault();\n  catInfo.innerHTML = '';\n  showLoader();\n  fetchCatByBreed(event.target.value)\n    .then(data => {\n      fillCatInfo(data);\n    })\n    .catch(err => {\n      showError(err);\n    });\n  hideLoader();\n});\n","export function fetchBreeds(url, query) {\n  return new Promise((resolve, reject) => {\n    const querystring = new URLSearchParams(query);\n    fetch(`${url}?${querystring}`)\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return new Promise((resolve, reject) => {\n    fetch(\n      `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}&api_key=live_rZzH8aTSb8EgvoUpMxGnwE4BaOpFs1yxswJogZfxRC4o5Mo0oZR6Pv4xvrcRihcn`\n    )\n      .then(response => {\n        if (!response.ok) {\n          reject(`Error code ${response.status}`);\n        } else {\n          return response.json();\n        }\n      })\n      .then(data => {\n        resolve(data);\n      })\n      .catch(err => {\n        reject(err);\n      });\n  });\n}\n"],"names":["url","query","$b8f9b7833fa37166$var$breedSelect","document","querySelector","$b8f9b7833fa37166$var$catInfo","$b8f9b7833fa37166$var$loader","$b8f9b7833fa37166$var$error","$b8f9b7833fa37166$var$showError","err","classList","toggle","Promise","resolve","reject","querystring","URLSearchParams","fetch","concat","then","response","ok","json","status","data","catch","obj","insertAdjacentHTML","Object","values","map","value","id","name","addEventListener","event","breedId","preventDefault","innerHTML","add","remove","target","breeds","description","temperament","join"],"version":3,"file":"index.a7b91f1e.js.map"}